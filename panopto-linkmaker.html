<!DOCTYPE html>
<html>
<head>
<title>Panopto Link Maker</title>
</head>
<body>

<p>Enter Panopto Viewer Link:</p>

<p><input type="text" value="" id="textbox"></p>

<p>Click the button to get links to other viewing options.</p>

<button onclick="getLinks()">Get links</button>

<p>
<ul>
    <li id="orig">Panopto Viewer</li>
    <li id="dnld">MP4 Podcast Download</li>
    <li id="view">MP4 Podcast View Stream</li>
</ul>
</p>

<p><textarea cols="50" rows="4" id="embedcode"></textarea></p>

<p id="embed"></p>

<hr>

<p><a href="https://github.com/brianhigh/panopto-linkmaker">https://github.com/brianhigh/panopto-linkmaker</a></p>

<script>
function getLinks() {
    var vid = document.getElementById("textbox").value;
    var id = vid.split("="); 
    var urlstr = vid.split("/", 4).toString().replace(/,/g, '/')
    origstr = document.getElementById("orig").innerHTML;
    var origlnk = origstr.link(vid);
    document.getElementById("orig").innerHTML = origlnk;
    dnldstr = document.getElementById("dnld").innerHTML;
    var dnldlnk = dnldstr.link(urlstr + "/Podcast/Download/" + id[1] + ".mp4");
    document.getElementById("dnld").innerHTML = dnldlnk;
    viewstr = document.getElementById("view").innerHTML;
    var viewlnk = viewstr.link(urlstr + "/Podcast/Stream/" + id[1] + ".mp4");
    document.getElementById("view").innerHTML = viewlnk;
    var embedlnk = urlstr + "/Pages/Embed.aspx?id=" + id[1] + "&v=1";
    var embedifm = '<iframe src="' + embedlnk + '" width="720" height="480" frameborder="0"></iframe>'
    document.getElementById("embed").innerHTML = embedifm;
    document.getElementById("embedcode").innerHTML = embedifm + '</pre>';
}
</script>


</body>
</html>